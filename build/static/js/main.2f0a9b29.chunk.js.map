{"version":3,"sources":["services/api.js","pages/Buscar/index.js","Components/MovieItem/index.js","pages/Favoritos/index.js","pages/Home/index.js","pages/Resultado/index.js","routes.js","App.js","index.js"],"names":["api","axios","create","baseURL","Buscar","history","useHistory","useState","name","setName","movies","setMovies","event","a","preventDefault","get","then","response","data","Search","push","pathname","state","console","log","catch","err","alert","id","to","onSubmit","className","htmlFor","type","onChange","e","target","value","MovieItem","movie","fav","favorite","setFavorite","Title","Year","onClick","itens","localStorage","getItem","length","arItens","split","index","indexOf","imdbID","splice","join","setItem","href","Favoritos","props","imdb","setIMDB","useEffect","searchMovies","mov","i","searchMovie","map","Home","Resultados","location","includes","Routes","component","exact","path","Resultado","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2f0a9b29.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nconst api = axios.create({\r\n    baseURL: 'http://www.omdbapi.com/'\r\n});\r\n\r\nexport default api;","import React, { useState } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { FiArrowLeft, FiArrowRight } from 'react-icons/fi';\r\nimport './styles.css';\r\n\r\nimport api from '../../services/api';\r\n\r\nconst Buscar = () => {\r\n\r\n  const history = useHistory();\r\n  const [name, setName] = useState('');\r\n  const [movies, setMovies] = useState([]);\r\n\r\n  async function handleSubmit(event) {\r\n\r\n    event.preventDefault();\r\n    \r\n    await api.get(`http://www.omdbapi.com/?apikey=925eba28&s=${name}`)\r\n    .then(response => {\r\n        if (!!response.data.Search) {\r\n          setMovies(response.data.Search)\r\n          history.push({\r\n            pathname: `/resultado`,\r\n            state: { movies: response.data.Search },\r\n          });\r\n          console.log(movies);\r\n        }\r\n    })\r\n    .catch(err => {\r\n        alert(`Erro na busca. ${err}`);\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div id=\"page-buscar\">\r\n      <header>\r\n        <Link to='/'>\r\n          <FiArrowLeft />\r\n          Voltar para home\r\n        </Link>\r\n        <Link to='/favoritos'>\r\n          Ir para Favoritos\r\n          <FiArrowRight />\r\n        </Link>\r\n      </header>\r\n\r\n      <form onSubmit={handleSubmit}>\r\n        \r\n        <h1>Busque seus filmes favoritos</h1>\r\n\r\n        <div className=\"field\">\r\n          <label htmlFor=\"name\">Nome do filme</label>\r\n          <input \r\n            type=\"text\"\r\n            name=\"name\"\r\n            id=\"name\"\r\n            onChange={(e) => {\r\n              setName(e.target.value)\r\n            }} \r\n          />\r\n        </div>        \r\n        <button type=\"submit\">Buscar</button>\r\n      </form>\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Buscar;","import React, { useState } from 'react';\r\nimport { FiStar } from 'react-icons/fi';\r\n\r\nimport './styles.css';\r\n\r\nconst MovieItem = ({ movie, fav }) => {\r\n\r\n  const [favorite, setFavorite] = useState(fav);\r\n\r\n  function createFavorite() {\r\n\r\n    let itens = localStorage.getItem('movies-imdb');\r\n\r\n    if (itens.length > 0) {\r\n\r\n      let arItens = itens.split(',');\r\n      let index = arItens.indexOf(movie.imdbID);\r\n\r\n      if (index > -1) {\r\n        \r\n        arItens.splice(index, 1);\r\n        setFavorite(false);\r\n\r\n      } else {\r\n        \r\n        arItens.push(movie.imdbID);\r\n        setFavorite(true);\r\n      }\r\n\r\n      itens = arItens.join();\r\n\r\n    } else {\r\n      \r\n      itens = `${movie.imdbID}`;\r\n      setFavorite(true);\r\n    } \r\n    \r\n    localStorage.setItem('movies-imdb', itens);\r\n  }\r\n\r\n  return (\r\n    <article className=\"movie-item\">\r\n      <header>\r\n        <div>\r\n          <strong>{movie.Title}</strong>\r\n          <p><span>Ano: {movie.Year}</span></p>\r\n        </div>\r\n      </header>\r\n\r\n      <aside>\r\n        <a onClick={createFavorite} href=\"#\" target=\"_blank\" className={favorite ? 'favon' : 'favoff'}>\r\n          <span><FiStar /></span>\r\n        </a>\r\n        <p>{favorite ? 'remover' : 'favoritar'}</p>\r\n      </aside>\r\n    </article>\r\n  );\r\n}\r\n\r\nexport default MovieItem;","import React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { FiArrowLeft } from 'react-icons/fi';\r\nimport './styles.css';\r\n\r\nimport api from '../../services/api';\r\nimport MovieItem from '../../Components/MovieItem';\r\n\r\nconst Favoritos = (props) => {\r\n\r\n  const [movies, setMovies] = useState([]);\r\n  const [imdb, setIMDB] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const itens = localStorage.getItem('movies-imdb');\r\n    if (itens.length) {\r\n      console.log(imdb);\r\n      setIMDB(itens.split(','));\r\n      searchMovies(imdb);\r\n    }\r\n  }, []);\r\n\r\n  const searchMovies = async function(imdb) {\r\n    let mov = [];\r\n    for (let i = 0; i < imdb.length; i++) {\r\n      let movie = await searchMovie(imdb[i]);\r\n      mov.push(movie)\r\n    }\r\n\r\n    setMovies(mov);\r\n  }\r\n  \r\n  async function searchMovie(imdb) {\r\n\r\n    let movie = await api.get(`http://www.omdbapi.com/?apikey=925eba28&i=${imdb}`)\r\n    .then(response => {\r\n      return response\r\n    })\r\n    .catch(err => {\r\n      alert(`Erro na busca. ${err}`);\r\n    });\r\n    return movie.data;\r\n  }\r\n\r\n  return (\r\n    <div id=\"page-favoritos\">\r\n      <header>\r\n        <Link to='/buscar'>\r\n          <FiArrowLeft />\r\n          Voltar para a busca\r\n        </Link>\r\n      </header>\r\n      <main className=\"movie-result\" >\r\n        <h1>Filmes favoritos</h1>\r\n        {\r\n          movies.map(movie => {\r\n            return <MovieItem key={movie.imdbID} movie={movie} fav={true} />\r\n          })\r\n        }\r\n      </main>\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Favoritos;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { FiStar, FiSearch } from 'react-icons/fi';\r\nimport './styles.css';\r\n\r\nconst Home = () => {\r\n\r\n  if (!localStorage.getItem('movies-imdb')) {\r\n    localStorage.setItem('movies-imdb', '')\r\n  } \r\n  \r\n  return (\r\n    <div id=\"page-home\">\r\n      <div className=\"content\">\r\n        <main>\r\n          <h1>Cinema APP</h1>\r\n          <p>Bem-vindo ao mundo espetacular do cinema.</p>\r\n\r\n          <div className=\"buttons-container\">\r\n\r\n            <Link to=\"/buscar\">\r\n              <span><FiSearch /></span>\r\n              <strong>Buscar Filmes</strong>\r\n            </Link>\r\n            <Link to=\"/favoritos\">\r\n              <span><FiStar /></span>\r\n              <strong>Ver Favoritos</strong>\r\n            </Link>\r\n          \r\n          </div> \r\n        </main>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;","import React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './styles.css';\r\nimport MovieItem from '../../Components/MovieItem';\r\nimport { FiArrowLeft, FiArrowRight } from 'react-icons/fi';\r\n\r\nconst Resultados = (props) => {\r\n\r\n  const [movies, setMovies] = useState([]);\r\n  const [imdb, setIMDB] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const itens = localStorage.getItem('movies-imdb');\r\n    if (itens.length) {\r\n      const imdb = itens.split(',');\r\n      setIMDB(imdb);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setMovies(props.location.state.movies);\r\n  }, []);\r\n\r\n  return (\r\n    <div id=\"page-resultado\">\r\n      <header className=\"header-resultado\">\r\n        <Link to='/buscar'>\r\n          <FiArrowLeft />\r\n          Voltar para a busca\r\n        </Link>\r\n        <Link to={{ pathname:'/favoritos', state:{movies} }}>\r\n          Ir para Favoritos\r\n          <FiArrowRight />\r\n        </Link>\r\n      </header>\r\n\r\n      \r\n      <main className=\"movie-result\" >\r\n        <h1>Filmes encontrados ({movies.length})</h1>\r\n        {\r\n          movies.map(movie => {\r\n            let fav = imdb.includes(movie.imdbID);\r\n            return <MovieItem key={movie.imdbID} movie={movie} fav={fav} />\r\n          })\r\n        }\r\n      </main>\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Resultados;","import React from 'react';\r\nimport { Route, BrowserRouter } from 'react-router-dom';\r\nimport Buscar from './pages/Buscar';\r\nimport Favoritos from './pages/Favoritos';\r\nimport Home from './pages/Home';\r\nimport Resultado from './pages/Resultado';\r\n\r\n\r\nconst Routes = () => {\r\n    return (\r\n        <BrowserRouter>\r\n            <Route component={Home} exact path='/' />\r\n            <Route component={Buscar} exact path='/buscar' />\r\n            <Route component={Favoritos} exact path='/favoritos' />\r\n            <Route component={Resultado} exact path='/resultado' />\r\n        </BrowserRouter>\r\n    )\r\n}\r\n\r\nexport default Routes;","import React from 'react';\nimport './App.css';\nimport Routes from './routes';\n\nfunction App() {\n  return (\n    <Routes />\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}