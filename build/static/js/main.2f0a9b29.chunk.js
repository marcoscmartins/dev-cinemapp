(this["webpackJsonpcinema-app"]=this["webpackJsonpcinema-app"]||[]).push([[0],{35:function(e,t,c){},37:function(e,t,c){},62:function(e,t,c){},63:function(e,t,c){},64:function(e,t,c){},65:function(e,t,c){},66:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),s=c(28),r=c.n(s),i=(c(35),c(5)),o=c(2),j=c(11),b=c.n(j),l=c(14),u=c(10),d=c(6),h=(c(37),c(29)),m=c.n(h).a.create({baseURL:"http://www.omdbapi.com/"}),O=c(0),p=function(){var e=Object(o.e)(),t=Object(a.useState)(""),c=Object(u.a)(t,2),n=c[0],s=c[1],r=Object(a.useState)([]),j=Object(u.a)(r,2),h=j[0],p=j[1];function x(){return(x=Object(l.a)(b.a.mark((function t(c){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.preventDefault(),t.next=3,m.get("http://www.omdbapi.com/?apikey=925eba28&s=".concat(n)).then((function(t){t.data.Search&&(p(t.data.Search),e.push({pathname:"/resultado",state:{movies:t.data.Search}}),console.log(h))})).catch((function(e){alert("Erro na busca. ".concat(e))}));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(O.jsxs)("div",{id:"page-buscar",children:[Object(O.jsxs)("header",{children:[Object(O.jsxs)(i.b,{to:"/",children:[Object(O.jsx)(d.a,{}),"Voltar para home"]}),Object(O.jsxs)(i.b,{to:"/favoritos",children:["Ir para Favoritos",Object(O.jsx)(d.b,{})]})]}),Object(O.jsxs)("form",{onSubmit:function(e){return x.apply(this,arguments)},children:[Object(O.jsx)("h1",{children:"Busque seus filmes favoritos"}),Object(O.jsxs)("div",{className:"field",children:[Object(O.jsx)("label",{htmlFor:"name",children:"Nome do filme"}),Object(O.jsx)("input",{type:"text",name:"name",id:"name",onChange:function(e){s(e.target.value)}})]}),Object(O.jsx)("button",{type:"submit",children:"Buscar"})]})]})},x=(c(62),c(63),function(e){var t=e.movie,c=e.fav,n=Object(a.useState)(c),s=Object(u.a)(n,2),r=s[0],i=s[1];return Object(O.jsxs)("article",{className:"movie-item",children:[Object(O.jsx)("header",{children:Object(O.jsxs)("div",{children:[Object(O.jsx)("strong",{children:t.Title}),Object(O.jsx)("p",{children:Object(O.jsxs)("span",{children:["Ano: ",t.Year]})})]})}),Object(O.jsxs)("aside",{children:[Object(O.jsx)("a",{onClick:function(){var e=localStorage.getItem("movies-imdb");if(e.length>0){var c=e.split(","),a=c.indexOf(t.imdbID);a>-1?(c.splice(a,1),i(!1)):(c.push(t.imdbID),i(!0)),e=c.join()}else e="".concat(t.imdbID),i(!0);localStorage.setItem("movies-imdb",e)},href:"#",target:"_blank",className:r?"favon":"favoff",children:Object(O.jsx)("span",{children:Object(O.jsx)(d.d,{})})}),Object(O.jsx)("p",{children:r?"remover":"favoritar"})]})]})}),f=function(e){var t=Object(a.useState)([]),c=Object(u.a)(t,2),n=c[0],s=c[1],r=Object(a.useState)([]),o=Object(u.a)(r,2),j=o[0],h=o[1];Object(a.useEffect)((function(){var e=localStorage.getItem("movies-imdb");e.length&&(console.log(j),h(e.split(",")),p(j))}),[]);var p=function(){var e=Object(l.a)(b.a.mark((function e(t){var c,a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=[],a=0;case 2:if(!(a<t.length)){e.next=10;break}return e.next=5,f(t[a]);case 5:n=e.sent,c.push(n);case 7:a++,e.next=2;break;case 10:s(c);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function f(e){return v.apply(this,arguments)}function v(){return(v=Object(l.a)(b.a.mark((function e(t){var c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("http://www.omdbapi.com/?apikey=925eba28&i=".concat(t)).then((function(e){return e})).catch((function(e){alert("Erro na busca. ".concat(e))}));case 2:return c=e.sent,e.abrupt("return",c.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(O.jsxs)("div",{id:"page-favoritos",children:[Object(O.jsx)("header",{children:Object(O.jsxs)(i.b,{to:"/buscar",children:[Object(O.jsx)(d.a,{}),"Voltar para a busca"]})}),Object(O.jsxs)("main",{className:"movie-result",children:[Object(O.jsx)("h1",{children:"Filmes favoritos"}),n.map((function(e){return Object(O.jsx)(x,{movie:e,fav:!0},e.imdbID)}))]})]})},v=(c(64),function(){return localStorage.getItem("movies-imdb")||localStorage.setItem("movies-imdb",""),Object(O.jsx)("div",{id:"page-home",children:Object(O.jsx)("div",{className:"content",children:Object(O.jsxs)("main",{children:[Object(O.jsx)("h1",{children:"Cinema APP"}),Object(O.jsx)("p",{children:"Bem-vindo ao mundo espetacular do cinema."}),Object(O.jsxs)("div",{className:"buttons-container",children:[Object(O.jsxs)(i.b,{to:"/buscar",children:[Object(O.jsx)("span",{children:Object(O.jsx)(d.c,{})}),Object(O.jsx)("strong",{children:"Buscar Filmes"})]}),Object(O.jsxs)(i.b,{to:"/favoritos",children:[Object(O.jsx)("span",{children:Object(O.jsx)(d.d,{})}),Object(O.jsx)("strong",{children:"Ver Favoritos"})]})]})]})})})}),g=(c(65),function(e){var t=Object(a.useState)([]),c=Object(u.a)(t,2),n=c[0],s=c[1],r=Object(a.useState)([]),o=Object(u.a)(r,2),j=o[0],b=o[1];return Object(a.useEffect)((function(){var e=localStorage.getItem("movies-imdb");if(e.length){var t=e.split(",");b(t)}}),[]),Object(a.useEffect)((function(){s(e.location.state.movies)}),[]),Object(O.jsxs)("div",{id:"page-resultado",children:[Object(O.jsxs)("header",{className:"header-resultado",children:[Object(O.jsxs)(i.b,{to:"/buscar",children:[Object(O.jsx)(d.a,{}),"Voltar para a busca"]}),Object(O.jsxs)(i.b,{to:{pathname:"/favoritos",state:{movies:n}},children:["Ir para Favoritos",Object(O.jsx)(d.b,{})]})]}),Object(O.jsxs)("main",{className:"movie-result",children:[Object(O.jsxs)("h1",{children:["Filmes encontrados (",n.length,")"]}),n.map((function(e){var t=j.includes(e.imdbID);return Object(O.jsx)(x,{movie:e,fav:t},e.imdbID)}))]})]})}),S=function(){return Object(O.jsxs)(i.a,{children:[Object(O.jsx)(o.a,{component:v,exact:!0,path:"/"}),Object(O.jsx)(o.a,{component:p,exact:!0,path:"/buscar"}),Object(O.jsx)(o.a,{component:f,exact:!0,path:"/favoritos"}),Object(O.jsx)(o.a,{component:g,exact:!0,path:"/resultado"})]})};var w=function(){return Object(O.jsx)(S,{})};r.a.render(Object(O.jsx)(n.a.StrictMode,{children:Object(O.jsx)(w,{})}),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.2f0a9b29.chunk.js.map